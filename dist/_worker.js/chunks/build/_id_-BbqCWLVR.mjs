import{l as a}from"./loader-O0maqbIs.mjs";import{_ as e,b as t,g as s,h as r,d as n,f as o}from"./server.mjs";import{K as l}from"../_/nitro.mjs";import{u as i}from"../_/vue.-sixQ7xP.mjs";import{Y as c,m as d,o as u,u as p,C as v,Q as f,q as m,j as y,c as g,Z as h,b,r as _,s as x,y as D,g as w,B as P}from"../routes/renderer.mjs";import"node:async_hooks";function useRequestFetch(){var a;return(null==(a=function(a=n()){var e;return null==(e=a.ssrContext)?void 0:e.event}())?void 0:a.$fetch)||globalThis.$fetch}function useAsyncData(...a){var e,t,r,l,i,c,d,u;const v="string"==typeof a[a.length-1]?a.pop():void 0;"string"!=typeof a[0]&&a.unshift(v);let[f,m,y={}]=a;if("string"!=typeof f)throw new TypeError("[nuxt] [asyncData] key must be a string.");if("function"!=typeof m)throw new TypeError("[nuxt] [asyncData] handler must be a function.");const g=n(),h=m;y.server=null==(e=y.server)||e,y.default=null!=(t=y.default)?t:()=>o.value,y.getCachedData=null!=(r=y.getCachedData)?r:()=>g.isHydrating?g.payload.data[f]:g.static.data[f],y.lazy=null!=(l=y.lazy)&&l,y.immediate=null==(i=y.immediate)||i,y.deep=null!=(c=y.deep)?c:o.deep,y.dedupe=null!=(d=y.dedupe)?d:"cancel";const b=y.getCachedData(f,g),$=null!=b;if(!g._asyncData[f]||!y.immediate){null!=(u=g.payload._errors)[f]||(u[f]=o.errorValue);const a=y.deep?_:x;g._asyncData[f]={data:a($?b:y.default()),pending:_(!$),error:D(g.payload._errors,f),status:_("idle"),_default:y.default}}const C={...g._asyncData[f]};delete C._default,C.refresh=C.execute=(a={})=>{var e,t;if(g._asyncDataPromises[f]){if("defer"===(t=null!=(e=a.dedupe)?e:y.dedupe)||!1===t)return g._asyncDataPromises[f];g._asyncDataPromises[f].cancelled=!0}if(a._initial||g.isHydrating&&!1!==a._initial){const e=a._initial?b:y.getCachedData(f,g);if(null!=e)return Promise.resolve(e)}C.pending.value=!0,C.status.value="pending";const r=new Promise(((a,e)=>{try{a(h(g))}catch(a){e(a)}})).then((async a=>{if(r.cancelled)return g._asyncDataPromises[f];let e=a;y.transform&&(e=await y.transform(a)),y.pick&&(e=function(a,e){const t={};for(const s of e)t[s]=a[s];return t}(e,y.pick)),g.payload.data[f]=e,C.data.value=e,C.error.value=o.errorValue,C.status.value="success"})).catch((a=>{if(r.cancelled)return g._asyncDataPromises[f];C.error.value=s(a),C.data.value=p(y.default()),C.status.value="error"})).finally((()=>{r.cancelled||(C.pending.value=!1,delete g._asyncDataPromises[f])}));return g._asyncDataPromises[f]=r,g._asyncDataPromises[f]},C.clear=()=>function(a,e){e in a.payload.data&&(a.payload.data[e]=void 0);e in a.payload._errors&&(a.payload._errors[e]=o.errorValue);a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=o.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle");e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}(g,f);if(!1!==y.server&&g.payload.serverRendered&&y.immediate){const a=C.refresh({_initial:!0});w()?P((()=>a)):g.hook("app:created",(async()=>{await a}))}const R=Promise.resolve(g._asyncDataPromises[f]).then((()=>C));return Object.assign(R,C),R}function generateOptionSegments(a){var e;const t=[(null==(e=h(a.method))?void 0:e.toUpperCase())||"GET",h(a.baseURL)];for(const e of[a.params||a.query]){const a=h(e);if(!a)continue;const s={};for(const[e,t]of Object.entries(a))s[h(e)]=h(t);t.push(s)}return t}const $={__name:"[id]",__ssrInlineRender:!0,async setup(e){let n,o;let y=t().params.id;const{data:_}=([n,o]=c((()=>function(a,e){const[t={},s]=[{},e],n=g((()=>h(a))),o=t.key||l([s,"string"==typeof n.value?n.value:"",...generateOptionSegments(t)]);if(!o||"string"!=typeof o)throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const i=o===s?"$f"+o:o;if(!t.baseURL&&"string"==typeof n.value&&"/"===n.value[0]&&"/"===n.value[1])throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:c,lazy:d,default:u,transform:p,pick:v,watch:f,immediate:m,getCachedData:y,deep:_,dedupe:x,...D}=t,w=b({...r,...D,cache:"boolean"==typeof t.cache?void 0:t.cache});let P;return useAsyncData(i,(()=>{var a;null==(a=null==P?void 0:P.abort)||a.call(P,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),P="undefined"!=typeof AbortController?new AbortController:{};const e=h(t.timeout);let s;e&&(s=setTimeout((()=>P.abort(new DOMException("Request aborted due to timeout.","AbortError"))),e),P.signal.onabort=()=>clearTimeout(s));let r=t.$fetch||globalThis.$fetch;return t.$fetch||"string"==typeof n.value&&"/"===n.value[0]&&(!h(t.baseURL)||"/"===h(t.baseURL)[0])&&(r=useRequestFetch()),r(n.value,{signal:P.signal,...w}).finally((()=>{clearTimeout(s)}))}),{server:c,lazy:d,default:u,transform:p,pick:v,immediate:m,getCachedData:y,deep:_,dedupe:x,watch:!1===f?[]:[w,n,...f||[]]})}(`https://api.bargh-saman.ir/api/product/${y}`,"$wpXHD4Yxv9"))),n=await n,o(),n);if(console.log(_),i({title:_.value.name+" || شرکت پویا صنعت",meta:[{name:"description",content:_.value.discription}],htmlAttrs:{dir:"rtl",lang:"fa"}}),!_)throw s({statusCode:404,statusMessage:"product not found",fatal:!0});return(e,t,s,r)=>{t(`<section${d(u({class:"w-[98%] sm:w-4/5 max-w-7xl articleMargin"},r))} data-v-2ba97c86>`),p(_)?t(`<article class="w-full text-gray-300 flex gap-2" data-v-2ba97c86><figure class="max-w-xl rounded shadow-sm" data-v-2ba97c86><img class="max-w-xl rounded"${f("src",p(_).path)} alt="نام محصول" data-v-2ba97c86></figure><div class="info_box_paddings border-r-2 border-slate-400" data-v-2ba97c86><div data-v-2ba97c86><span class="text-2xl text-slate-300" data-v-2ba97c86>${m(p(_).name)}</span></div><div class="descriptionPadding" data-v-2ba97c86><span class="text-slate-300 text-lg" data-v-2ba97c86>توضیحات:  </span><span class="text-slate-400" data-v-2ba97c86>${m(p(_).discription)}</span></div><div class="colorPaddings" data-v-2ba97c86><span class="text-lg text-slate-300" data-v-2ba97c86>رنگ: </span><span class="text-gray-400" data-v-2ba97c86>${m(p(_).color)}</span></div><div data-v-2ba97c86><span class="text-lg text-slate-300" data-v-2ba97c86>قیمت: </span><span class="text-gray-400" data-v-2ba97c86><span data-v-2ba97c86>${m(p(_).price)}</span> تومان </span></div></div></article>`):t(v(a,null,null,s)),t('<p class="paragraphMargin text-slate-400" data-v-2ba97c86> برای خرید کالا میتوانید با شماره های 09129548433 یا 33920665 - 33939645 تماس بگیرید و محصول خود را به صورت آماده در محل دریافت کنید. </p><p class="text-slate-400" data-v-2ba97c86> شرکت پویا صنعت برق سامان به عنوان نماینده فروش برندهای معتبر و شناخته شده در صنعت، محصولات خود را از برندهایی همچون سیمیا، سیل کیبل، رسانا، اشنایدر، هیوندای، خراسان افشارنژاد و بسیاری دیگر به بازار عرضه می‌کند. </p></section>')}}},C=$.setup;$.setup=(a,e)=>{const t=y();return(t.modules||(t.modules=new Set)).add("pages/product/[id].vue"),C?C(a,e):void 0};const R=e($,[["__scopeId","data-v-2ba97c86"]]);export{R as default};
//# sourceMappingURL=_id_-BbqCWLVR.mjs.map
