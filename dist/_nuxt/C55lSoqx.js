import{_ as U,r as s,c as d,a as l,i as a,l as g,v as b,n as A,m as f,p as B,e as D,t as _,q as S,s as I,o as u}from"./hnwj6K8j.js";import{l as N}from"./C7GBYzab.js";import{u as z}from"./Dx7Blb-I.js";import"./CW7irCmf.js";const H={class:"w-full"},F={class:"cursor-pointer",for:"pic"},L={key:0,class:"pic_label_styles lineHeight288"},q=["src"],E={class:"text-slate-300 inputMargins"},O={class:"flex lg:grid lg:grid-cols-2 gap-4 flex-wrap"},W={class:"text-slate-300"},j={class:"text-slate-300"},G={class:"text-slate-300"},J={class:"text-slate-300"},K={class:"marginTop"},Q={key:1,class:"w-40"},X={class:"notfpadding"},Y={key:0,class:"text-red-500"},Z={key:1,class:"text-green-500"},$={__name:"addProduct",setup(ee){let x=s(!1),y=s(0),n=s(""),P=s(190);const V=()=>{P.value=Math.max(190,i.value.length*10+25)};let w=s(null);const C=()=>{const o=w.value;o.style.height="auto",o.style.height=`${o.scrollHeight}px`};let h=s(null);function R(o){const e=o.target.files[0];if(e){const t=new FileReader;t.onload=T=>{h.value=T.target.result},t.readAsDataURL(e)}}let k=s(null),i=s(null),p=s(null),c=s(null),m=s(null),v=s(null),r=s(null);const M=async()=>{if(i.value)if(v.value)if(m.value)if(p.value)if(c.value){if(!r.value||r.value.length<5)return n.value="جزییات محصول باید بیش از 5 کلمه باشد";if(k.value.files[0]==null)return n.value="لطفا عکس محصول را وارد کنید";n.value=!1}else return n.value="رنگ محصول را وارد نکردید";else return n.value="کتگوری محصول را انتخاب نکردید";else return n.value="کد محصول را وارد نکردید";else return n.value="قیمت محصول را وارد نکردید";else return n.value="نام محصول را وارد نکردید";let o=z("userToken").value;x.value=!0;let e=new FormData;e.append("path",k.value.files[0]),e.append("name",i.value),e.append("color",c.value),e.append("price",v.value),e.append("category",p.value),e.append("product_code",m.value),e.append("discription",r.value);try{const t=await $fetch("https://api.bargh-saman.ir/api/ProductManagement/product/create",{method:"POST",body:e,headers:{Authorization:`Bearer ${o}`}});y.value+=1}catch(t){n.value=t}finally{x.value=!1}};return(o,e)=>(u(),d("form",{class:"w-[95%] svHeight sm:w-4/5 max-w-4xl formMargins",onSubmit:e[6]||(e[6]=I(()=>{},["prevent"]))},[l("div",H,[l("input",{type:"file",ref_key:"productPic",ref:k,id:"pic",class:"hidden",onChange:R},null,544),l("label",F,[a(h)?(u(),d("img",{key:1,class:"imgPreview",src:a(h),alt:"عکس محصول"},null,8,q)):(u(),d("div",L,"+"))])]),l("div",E,[e[7]||(e[7]=l("label",{class:"text-blue-400 text-sm md:text-base block md:inline labelPadding"},"نام محصول:",-1)),g(l("input",{style:A({width:a(P)+"px"}),onInput:V,class:"max-w-full transition-all duration-50 inputStyles inputPaddings marginRight",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>f(i)?i.value=t:i=t),placeholder:"نام محصول"},null,36),[[b,a(i)]])]),l("div",O,[l("div",W,[e[9]||(e[9]=l("label",{class:"text-blue-400 labelPadding labelStyles"},"کتگوری محصول:",-1)),g(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>f(p)?p.value=t:p=t),class:"block md:inline w-[190px] md:w-[160px] outline-0 inputPaddings rounded-md focus:ring-black focus:border-black dark:placeholder-black dark:focus:ring-black dark:focus:border-black dark:bg-slate-700 marginRight"},e[8]||(e[8]=[l("option",{value:"سیم"},"سیم",-1),l("option",{value:"کابل شبکه"},"کابل شبکه",-1),l("option",{value:"کابل تلفنی"},"کابل تلفنی",-1)]),512),[[B,a(p)]])]),l("div",j,[e[10]||(e[10]=l("label",{class:"text-blue-400 labelStyles labelPadding"},"رنگ محصول:",-1)),g(l("input",{class:"inputStyles inputPaddings marginRight",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>f(c)?c.value=t:c=t),placeholder:"رنگ"},null,512),[[b,a(c)]])]),l("div",G,[e[11]||(e[11]=l("label",{class:"text-blue-400 labelPadding labelStyles"},"کد محصول:",-1)),g(l("input",{class:"inputStyles inputPaddings marginRight",type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>f(m)?m.value=t:m=t),placeholder:"کد"},null,512),[[b,a(m)]])]),l("div",J,[e[12]||(e[12]=l("label",{class:"text-blue-400 labelPadding labelStyles"},"قیمت محصول:",-1)),g(l("input",{class:"inputStyles inputPaddings marginRight",type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>f(v)?v.value=t:v=t),placeholder:"قیمت"},null,512),[[b,a(v)]])])]),l("div",K,[e[13]||(e[13]=l("label",{class:"text-blue-400 block textareaLable"},"رنگ محصول:",-1)),g(l("textarea",{name:"text",ref_key:"textArea",ref:w,onInput:C,"onUpdate:modelValue":e[5]||(e[5]=t=>f(r)?r.value=t:r=t),class:"min-w-[280px] sm:min-w-[500px] min-h-[100px] sm:min-h-[200px] text-slate-300 inputStyles inputPaddings",placeholder:"متن و جزییات"},null,544),[[b,a(r)]]),a(x)?(u(),d("div",Q,[D(N)])):(u(),d("button",{key:0,onClick:M,class:"bg-blue-600 text-slate-300 block rounded cursor-pointer hover:bg-blue-500 active:scale-90 formButtonPadding"},"اضافه کردن محصول")),l("div",X,[a(n)?(u(),d("span",Y,_(a(n)),1)):S("",!0),a(y)>0?(u(),d("span",Z,_(a(y))+" محصول اضافه شد",1)):S("",!0)])])],32))}},ne=U($,[["__scopeId","data-v-3a5041d0"]]);export{ne as default};
