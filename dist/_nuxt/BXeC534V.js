import{_ as g}from"./BBgPA-lz.js";import{_ as f,r as k,u as c,f as h,g as x,c as u,a as d,F as v,h as b,i as y,j as L,e as m,o as a,w as B,b as S,t as N,k as T}from"./hnwj6K8j.js";import{l as w}from"./C7GBYzab.js";import{u as t}from"./Dx7Blb-I.js";import"./CW7irCmf.js";const P={class:"bg-slate-900"},C={class:"w-full sticky top-0 border-b border-slate-500 bg-slate-900/50 navPadding navbarBg"},I={class:"flex justify-around items-center gap-2 text-slate-300"},V={__name:"adminpanel",setup(j){const _=[{name:"محصولات",address:"/adminpanel/products"},{name:"اضافه کردن محصول",address:"/adminpanel/addProduct"},{name:"ویرایش محصول",address:"/adminpanel/editProduct"}];let o=k(!1);const i=async()=>{let s=t("userToken").value;o.value=!0;try{const n=await $fetch("https://api.bargh-saman.ir/api/logout",{headers:{Authorization:`Bearer ${s}`}});let r=t("userToken"),l=t("adminLoginStatus");r.value=null,l.value=null,c().push("/")}catch(n){console.log(n)}finally{o.value=!1}};let p=c();return h(()=>{t("adminLoginStatus").value!=="logedIn"&&p.push("/signIn")}),x(()=>{i()}),(s,n)=>{const r=g,l=T;return a(),u("div",P,[d("nav",C,[d("ul",I,[(a(),u(v,null,b(_,e=>d("li",{key:e},[m(r,{to:e.address},{default:B(()=>[S(N(e.name),1)]),_:2},1032,["to"])])),64)),y(o)?(a(),L(w,{key:0})):(a(),u("button",{key:1,onClick:i,class:"text-red-500 cursor-pointer"},"خروج"))])]),m(l)])}}},E=f(V,[["__scopeId","data-v-892d97c6"]]);export{E as default};
