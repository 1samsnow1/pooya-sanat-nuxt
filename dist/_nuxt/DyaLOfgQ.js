import{l as j}from"./C7GBYzab.js";import{C as q,D as g,r as M,E as F,G as S,H as z,g as I,z as L,I as H,J as $,i as h,K as N,L as U,y as K,M as k,N as G,O as _,_ as J,x as X,P as Y,c as V,j as Q,a as u,t as P,b as W,o as B}from"./hnwj6K8j.js";import{h as Z}from"./CW7irCmf.js";import{u as A}from"./CPug3MkJ.js";const ee=a=>a==="defer"||a===!1;function te(...a){var C;const n=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(n);let[s,l,t={}]=a;if(typeof s!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const e=q(),f=l,i=()=>g.value,O=()=>e.isHydrating?e.payload.data[s]:e.static.data[s];t.server=t.server??!0,t.default=t.default??i,t.getCachedData=t.getCachedData??O,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??g.deep,t.dedupe=t.dedupe??"cancel";const y=t.getCachedData(s,e),w=y!=null;if(!e._asyncData[s]||!t.immediate){(C=e.payload._errors)[s]??(C[s]=g.errorValue);const c=t.deep?M:F;e._asyncData[s]={data:c(w?y:t.default()),pending:M(!w),error:S(e.payload._errors,s),status:M("idle"),_default:t.default}}const r={...e._asyncData[s]};delete r._default,r.refresh=r.execute=(c={})=>{if(e._asyncDataPromises[s]){if(ee(c.dedupe??t.dedupe))return e._asyncDataPromises[s];e._asyncDataPromises[s].cancelled=!0}if(c._initial||e.isHydrating&&c._initial!==!1){const d=c._initial?y:t.getCachedData(s,e);if(d!=null)return Promise.resolve(d)}r.pending.value=!0,r.status.value="pending";const p=new Promise((d,o)=>{try{d(f(e))}catch(v){o(v)}}).then(async d=>{if(p.cancelled)return e._asyncDataPromises[s];let o=d;t.transform&&(o=await t.transform(d)),t.pick&&(o=se(o,t.pick)),e.payload.data[s]=o,r.data.value=o,r.error.value=g.errorValue,r.status.value="success"}).catch(d=>{if(p.cancelled)return e._asyncDataPromises[s];r.error.value=$(d),r.data.value=h(t.default()),r.status.value="error"}).finally(()=>{p.cancelled||(r.pending.value=!1,delete e._asyncDataPromises[s])});return e._asyncDataPromises[s]=p,e._asyncDataPromises[s]},r.clear=()=>ae(e,s);const b=()=>r.refresh({_initial:!0}),D=t.server!==!1&&e.payload.serverRendered;{const c=N();if(c&&D&&t.immediate&&!c.sp&&(c.sp=[]),c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const o=c._nuxtOnBeforeMountCbs;z(()=>{o.forEach(v=>{v()}),o.splice(0,o.length)}),I(()=>o.splice(0,o.length))}D&&e.isHydrating&&(r.error.value||y!=null)?(r.pending.value=!1,r.status.value=r.error.value?"error":"success"):c&&(e.payload.serverRendered&&e.isHydrating||t.lazy)&&t.immediate?c._nuxtOnBeforeMountCbs.push(b):t.immediate&&b();const p=U();if(t.watch){const o=L(t.watch,()=>r.refresh());p&&H(o)}const d=e.hook("app:data:refresh",async o=>{(!o||o.includes(s))&&await r.refresh()});p&&H(d)}const x=Promise.resolve(e._asyncDataPromises[s]).then(()=>r);return Object.assign(x,r),x}function ae(a,n){n in a.payload.data&&(a.payload.data[n]=void 0),n in a.payload._errors&&(a.payload._errors[n]=g.errorValue),a._asyncData[n]&&(a._asyncData[n].data.value=void 0,a._asyncData[n].error.value=g.errorValue,a._asyncData[n].pending.value=!1,a._asyncData[n].status.value="idle"),n in a._asyncDataPromises&&(a._asyncDataPromises[n]&&(a._asyncDataPromises[n].cancelled=!0),a._asyncDataPromises[n]=void 0)}function se(a,n){const s={};for(const l of n)s[l]=a[l];return s}function ne(a,n,s){const[l={},t]=[{},n],e=K(()=>_(a)),f=l.key||Z([t,typeof e.value=="string"?e.value:"",...re(l)]);if(!f||typeof f!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+f);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const i=f===t?"$f"+f:f;if(!l.baseURL&&typeof e.value=="string"&&e.value[0]==="/"&&e.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:O,lazy:y,default:w,transform:r,pick:b,watch:D,immediate:x,getCachedData:C,deep:c,dedupe:p,...d}=l,o=k({...G,...d,cache:typeof l.cache=="boolean"?void 0:l.cache}),v={server:O,lazy:y,default:w,transform:r,pick:b,immediate:x,getCachedData:C,deep:c,dedupe:p,watch:D===!1?[]:[o,e,...D||[]]};let m;return te(i,()=>{var T;(T=m==null?void 0:m.abort)==null||T.call(m,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),m=typeof AbortController<"u"?new AbortController:{};const R=_(l.timeout);let E;return R&&(E=setTimeout(()=>m.abort(new DOMException("Request aborted due to timeout.","AbortError")),R),m.signal.onabort=()=>clearTimeout(E)),(l.$fetch||globalThis.$fetch)(e.value,{signal:m.signal,...o}).finally(()=>{clearTimeout(E)})},v)}function re(a){var s;const n=[((s=_(a.method))==null?void 0:s.toUpperCase())||"GET",_(a.baseURL)];for(const l of[a.params||a.query]){const t=_(l);if(!t)continue;const e={};for(const[f,i]of Object.entries(t))e[_(f)]=_(i);n.push(e)}return n}const oe={class:"w-[98%] sm:w-4/5 max-w-7xl articleMargin"},ie={key:1,class:"w-full text-gray-300 flex gap-2"},ce={class:"max-w-xl rounded shadow-sm"},le=["src"],ue={class:"info_box_paddings border-r-2 border-slate-400"},de={class:"text-2xl text-slate-300"},fe={class:"descriptionPadding"},pe={class:"text-slate-400"},me={class:"colorPaddings"},he={class:"text-gray-400"},_e={class:"text-gray-400"},ye={__name:"[id]",async setup(a){let n,s,t=X().params.id;const{data:e}=([n,s]=Y(()=>ne(`https://api.bargh-saman.ir/api/product/${t}`,"$wpXHD4Yxv9")),n=await n,s(),n);if(console.log(e),A({title:e.value.name+" || شرکت پویا صنعت",meta:[{name:"description",content:e.value.discription}],htmlAttrs:{dir:"rtl",lang:"fa"}}),!e)throw $({statusCode:404,statusMessage:"product not found",fatal:!0});return(f,i)=>(B(),V("section",oe,[h(e)?(B(),V("article",ie,[u("figure",ce,[u("img",{class:"max-w-xl rounded",src:h(e).path,alt:"نام محصول"},null,8,le)]),u("div",ue,[u("div",null,[u("span",de,P(h(e).name),1)]),u("div",fe,[i[0]||(i[0]=u("span",{class:"text-slate-300 text-lg"},"توضیحات:  ",-1)),u("span",pe,P(h(e).discription),1)]),u("div",me,[i[1]||(i[1]=u("span",{class:"text-lg text-slate-300"},"رنگ: ",-1)),u("span",he,P(h(e).color),1)]),u("div",null,[i[3]||(i[3]=u("span",{class:"text-lg text-slate-300"},"قیمت: ",-1)),u("span",_e,[u("span",null,P(h(e).price),1),i[2]||(i[2]=W(" تومان "))])])])])):(B(),Q(j,{key:0})),i[4]||(i[4]=u("p",{class:"paragraphMargin text-slate-400"}," برای خرید کالا میتوانید با شماره های 09129548433 یا 33920665 - 33939645 تماس بگیرید و محصول خود را به صورت آماده در محل دریافت کنید. ",-1)),i[5]||(i[5]=u("p",{class:"text-slate-400"}," شرکت پویا صنعت برق سامان به عنوان نماینده فروش برندهای معتبر و شناخته شده در صنعت، محصولات خود را از برندهایی همچون سیمیا، سیل کیبل، رسانا، اشنایدر، هیوندای، خراسان افشارنژاد و بسیاری دیگر به بازار عرضه می‌کند. ",-1))]))}},Ce=J(ye,[["__scopeId","data-v-2ba97c86"]]);export{Ce as default};
